{"ast":null,"code":"var _jsxFileName = \"D:\\\\studi\\\\ofer\\\\l51_28_04\\\\react51\\\\src\\\\marketComps\\\\client\\\\homeCatList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { doApiGet, URL_API } from '../../services/apiSer';\nimport ProdBox from './prodBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction HomeCatList(props) {\n  _s();\n\n  let [cat, setCat] = useState({});\n  let [prods_ar, setProdsAr] = useState([]);\n  useEffect(() => {\n    doApi();\n  }, []);\n\n  const doApi = async () => {\n    // first get the category name by its id from props\n    let url1 = URL_API + \"/categories/single/\" + props.catId;\n    console.log(url1);\n    let catInfo = await doApiGet(url1);\n    setCat(catInfo); // second: get the list of prods of the same category\n\n    let url = URL_API + \"/prods/?cat=\" + props.catId + \"&perPage=4\";\n    console.log(url);\n    let prodsData = await doApiGet(url);\n    console.log(prodsData);\n    setProdsAr(prodsData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n      className: \"for_h2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"h2_hr\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: cat.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mb-5\",\n      children: [prods_ar.map(item => {\n        return /*#__PURE__*/_jsxDEV(ProdBox, {\n          item: item\n        }, item._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-dark mt-3\",\n          to: \"/cat/\" + cat.s_id,\n          children: [\"More products of \", cat.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(HomeCatList, \"/Nr+kVScWMi4+538ee882fHkx+U=\");\n\n_c = HomeCatList;\nexport default HomeCatList;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeCatList\");","map":{"version":3,"sources":["D:/studi/ofer/l51_28_04/react51/src/marketComps/client/homeCatList.js"],"names":["React","useEffect","useState","Link","doApiGet","URL_API","ProdBox","HomeCatList","props","cat","setCat","prods_ar","setProdsAr","doApi","url1","catId","console","log","catInfo","url","prodsData","name","map","item","_id","s_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,uBAAlC;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA2B;AAAA;;AACzB,MAAI,CAACC,GAAD,EAAKC,MAAL,IAAeR,QAAQ,CAAC,EAAD,CAA3B;AACA,MAAI,CAACS,QAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,EAAD,CAApC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,KAAK;AACN,GAFQ,EAEP,EAFO,CAAT;;AAIA,QAAMA,KAAK,GAAG,YAAW;AACvB;AACA,QAAIC,IAAI,GAAGT,OAAO,GAAC,qBAAR,GAA8BG,KAAK,CAACO,KAA/C;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,QAAII,OAAO,GAAG,MAAMd,QAAQ,CAACU,IAAD,CAA5B;AACAJ,IAAAA,MAAM,CAACQ,OAAD,CAAN,CALuB,CAMvB;;AACA,QAAIC,GAAG,GAAGd,OAAO,GAAC,cAAR,GAAuBG,KAAK,CAACO,KAA7B,GAAmC,YAA7C;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACA,QAAIC,SAAS,GAAG,MAAMhB,QAAQ,CAACe,GAAD,CAA9B;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ;AACAR,IAAAA,UAAU,CAACQ,SAAD,CAAV;AACD,GAZD;;AAcA,sBACE,QAAC,KAAD,CAAO,QAAP;AAAA,4BACI;AAAI,MAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,YADJ,eAEM;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA,6BACE;AAAA,kBACCX,GAAG,CAACY;AADL;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFN,eAOM;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,iBACGV,QAAQ,CAACW,GAAT,CAAaC,IAAI,IAAI;AACpB,4BACE,QAAC,OAAD;AAAwB,UAAA,IAAI,EAAEA;AAA9B,WAAcA,IAAI,CAACC,GAAnB;AAAA;AAAA;AAAA;AAAA,gBADF;AAGD,OAJA,CADH,eAME;AAAK,QAAA,SAAS,EAAC,+BAAf;AAAA,+BACE,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAoC,UAAA,EAAE,EAAE,UAAQf,GAAG,CAACgB,IAApD;AAAA,0CAA4EhB,GAAG,CAACY,IAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPN;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoBD;;GA1CQd,W;;KAAAA,W;AA4CT,eAAeA,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { doApiGet, URL_API } from '../../services/apiSer';\r\nimport ProdBox from './prodBox';\r\n\r\nfunction HomeCatList(props){\r\n  let [cat,setCat] = useState({});\r\n  let [prods_ar,setProdsAr] = useState([])\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  },[])\r\n  \r\n  const doApi = async() => {\r\n    // first get the category name by its id from props\r\n    let url1 = URL_API+\"/categories/single/\"+props.catId;\r\n    console.log(url1)\r\n    let catInfo = await doApiGet(url1)\r\n    setCat(catInfo)\r\n    // second: get the list of prods of the same category\r\n    let url = URL_API+\"/prods/?cat=\"+props.catId+\"&perPage=4\";\r\n    console.log(url)\r\n    let prodsData = await doApiGet(url);\r\n    console.log(prodsData)\r\n    setProdsAr(prodsData);\r\n  }\r\n\r\n  return(\r\n    <React.Fragment>\r\n        <hr className=\"for_h2\"/>\r\n          <h2 className=\"h2_hr\">\r\n            <span>\r\n            {cat.name}\r\n            </span>\r\n          </h2>\r\n          <div className=\"row mb-5\">\r\n            {prods_ar.map(item => {\r\n              return(\r\n                <ProdBox key={item._id} item={item} />\r\n              )\r\n            })}\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Link className=\"btn btn-dark mt-3\" to={\"/cat/\"+cat.s_id}>More products of {cat.name}</Link>\r\n            </div>\r\n          </div>\r\n    </React.Fragment> \r\n  )\r\n}\r\n\r\nexport default HomeCatList"]},"metadata":{},"sourceType":"module"}