{"ast":null,"code":"var _jsxFileName = \"D:\\\\studi\\\\ofer\\\\l51_28_04\\\\react51\\\\src\\\\marketComps\\\\client\\\\signup.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Header from './header';\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from 'react-router';\nimport { doApiMethod, URL_API } from '../../services/apiSer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUp(props) {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  let history = useHistory(); // פונקציה בשיבל לקרוא לתצוגת ההודעות של הטוסט\n  // let { addToast } = useToasts();\n\n  let emailRef = register({\n    required: true,\n    pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i\n  });\n  let passRef = register({\n    required: true,\n    minLength: 3\n  });\n  let nameRef = register({\n    required: true,\n    minLength: 2\n  });\n  let phoneRef = register({\n    required: true,\n    minLength: 3\n  });\n  let addressRef = register({\n    required: false,\n    minLength: 3\n  });\n\n  const onFormSub = dataBody => {\n    //dataBody -> מכיל אובייקט עם המאפיינים לפי השמות של האינפוטים והסלקטים\n    console.log(dataBody);\n    doApi(dataBody);\n  }; // 13:15\n\n\n  const doApi = async dataBody => {\n    let url = URL_API + \"/users/\"; // dataBody > אובייקט שמכיל את האימייל והסיסמא מהטופס\n\n    let data = await doApiMethod(url, \"POST\", dataBody);\n    console.log(data); // sign up success\n\n    if (data._id) {\n      history.push(\"/login\");\n    } else if (data.code == 11000) {\n      alert(\"Email already exists in system , try log in\");\n    } else {\n      // addToast(\"Try again , user or password worng\",\n      //   {\n      //     appearance: 'error',\n      //     autoDismiss: true\n      //   }\n      // )\n      // TODO : show toaste message \n      alert(\"There problem , come back next week :) \");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Sign up:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onFormSub),\n        className: \"col-lg-6 mx-auto p-2 shadow mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: emailRef,\n            name: \"email\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Please enter valid Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"pass\",\n            className: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: passRef,\n            name: \"pass\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"pass\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this), errors.pass && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Please enter valid Password min 3 charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"form-label\",\n            children: \"Full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: nameRef,\n            name: \"name\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Please enter valid name min 2 charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone\",\n            className: \"form-label\",\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: phoneRef,\n            name: \"phone\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }, this), errors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Please enter valid phone min 9 charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"address\",\n            className: \"form-label\",\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: addressRef,\n            name: \"address\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this), errors.address && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Please enter valid address min 9 charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignUp, \"OxBzvLvyqkluHWa37TdHftQcVy0=\", false, function () {\n  return [useForm, useHistory];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["D:/studi/ofer/l51_28_04/react51/src/marketComps/client/signup.js"],"names":["React","Header","useForm","useHistory","doApiMethod","URL_API","SignUp","props","register","handleSubmit","errors","history","emailRef","required","pattern","passRef","minLength","nameRef","phoneRef","addressRef","onFormSub","dataBody","console","log","doApi","url","data","_id","push","code","alert","email","pass","name","phone","address"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Header from './header';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory } from 'react-router';\r\nimport { doApiMethod, URL_API } from '../../services/apiSer';\r\n\r\nfunction SignUp(props){\r\n  const { register, handleSubmit, errors } = useForm();\r\n  let history = useHistory()\r\n  // פונקציה בשיבל לקרוא לתצוגת ההודעות של הטוסט\r\n  // let { addToast } = useToasts();\r\n\r\n  let emailRef = register({ required: true, pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i });\r\n  let passRef = register({ required: true, minLength: 3 })\r\n  let nameRef = register({ required: true, minLength: 2 })\r\n  let phoneRef = register({ required: true, minLength: 3 })\r\n  let addressRef = register({ required: false, minLength: 3 })\r\n\r\n  const onFormSub = (dataBody) => {\r\n    //dataBody -> מכיל אובייקט עם המאפיינים לפי השמות של האינפוטים והסלקטים\r\n    console.log(dataBody);\r\n   doApi(dataBody)\r\n  }\r\n  // 13:15\r\n  const doApi = async (dataBody) => {\r\n    let url = URL_API + \"/users/\";\r\n    // dataBody > אובייקט שמכיל את האימייל והסיסמא מהטופס\r\n    let data = await doApiMethod(url, \"POST\", dataBody);\r\n    console.log(data);\r\n    // sign up success\r\n    if (data._id) {\r\n\r\n      history.push(\"/login\");\r\n    }\r\n    else if(data.code == 11000){\r\n      alert(\"Email already exists in system , try log in\")\r\n\r\n    }\r\n    else {\r\n      // addToast(\"Try again , user or password worng\",\r\n      //   {\r\n      //     appearance: 'error',\r\n      //     autoDismiss: true\r\n      //   }\r\n      // )\r\n      // TODO : show toaste message \r\n      alert(\"There problem , come back next week :) \")\r\n    }\r\n  }\r\n  return(\r\n    <React.Fragment>\r\n      <Header />\r\n      <div className=\"container\">\r\n        <h1>Sign up:</h1>\r\n        <form onSubmit={handleSubmit(onFormSub)} className=\"col-lg-6 mx-auto p-2 shadow mt-3\">\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label\">Email address</label>\r\n          <input ref={emailRef} name=\"email\" type=\"text\" className=\"form-control\" id=\"email\" />\r\n          {/* האירור לפי השם של האינפוט מייצר לעצמו מאפיין אם יש שם טעות */}\r\n          {errors.email && <span className=\"text-danger\">Please enter valid Email</span>}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"pass\" className=\"form-label\">Password</label>\r\n          <input ref={passRef} name=\"pass\" type=\"text\" className=\"form-control\" id=\"pass\" />\r\n          {errors.pass && <span className=\"text-danger\">Please enter valid Password min 3 charts</span>}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"name\" className=\"form-label\">Full name</label>\r\n          <input ref={nameRef} name=\"name\" type=\"text\" className=\"form-control\" id=\"name\" />\r\n          {errors.name && <span className=\"text-danger\">Please enter valid name min 2 charts</span>}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"phone\" className=\"form-label\">Phone</label>\r\n          <input ref={phoneRef} name=\"phone\" type=\"text\" className=\"form-control\" id=\"phone\" />\r\n          {errors.phone && <span className=\"text-danger\">Please enter valid phone min 9 charts</span>}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"address\" className=\"form-label\">Address</label>\r\n          <input ref={addressRef} name=\"address\" type=\"text\" className=\"form-control\" id=\"address\" />\r\n          {errors.address && <span className=\"text-danger\">Please enter valid address min 9 charts</span>}\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\r\n\r\n      </form>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default SignUp"]},"metadata":{},"sourceType":"module"}