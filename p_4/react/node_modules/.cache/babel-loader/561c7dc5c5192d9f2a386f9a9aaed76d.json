{"ast":null,"code":"var _jsxFileName = \"D:\\\\studi\\\\ofer\\\\p_4\\\\react\\\\src\\\\marketComps\\\\admin\\\\edit\\\\editProd.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport { doApiGet, doApiMethod, URL_API } from '../../../services/apiSer';\nimport { Link, useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProd(props) {\n  _s();\n\n  let history = useHistory();\n  let editid = props.match.params.editId;\n  let [qData, setQData] = useState({});\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  let nameRef = register({\n    required: true,\n    minLength: 3\n  });\n  let infoRef = register({\n    required: true,\n    minLength: 3\n  });\n  let priceRef = register({\n    required: true,\n    min: 1\n  });\n  let imgRef = register({});\n  let qtyRef = register({\n    required: true,\n    min: 1\n  });\n  let commentsRef = register({\n    minLength: 1\n  });\n  let catRef = register({\n    required: true\n  });\n  let [cat_ar, setcatAr] = useState([]);\n  useEffect(() => {\n    doApi();\n  }, []);\n\n  const doApi = async () => {\n    let url = URL_API + \"/categories\";\n    let data = await doApiGet(url);\n    setcatAr(data);\n  };\n\n  const onFormSub = dataBody => {\n    console.log(dataBody);\n    editprod(dataBody);\n  };\n\n  const editprod = async dataBody => {\n    let url = URL_API + \"/prod/\" + editid;\n    let data = await doApiMethod(url, \"PUT\", dataBody);\n    console.log(data);\n\n    if (data.n == 1) {\n      alert(\"the prod updated\");\n      history.push(\"/admin/list\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container text-light s_screen2\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onFormSub),\n        className: \"col-lg-6 mx-auto p-2 shadow mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add new Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"form-label\",\n            children: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            defaultValue: \"pizza\",\n            ref: nameRef,\n            name: \"name\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 11\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Enter vaild name (at least 2 charts)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"info\",\n            className: \"form-label\",\n            children: \"info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            defaultValue: \"bla bla\",\n            ref: infoRef,\n            name: \"info\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this), errors.info && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Enter info (at least 2 charts)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"price\",\n            className: \"form-label\",\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            defaultValue: \"5\",\n            ref: priceRef,\n            name: \"price\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }, this), errors.price && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Enter valid price higer than 0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"img\",\n            className: \"form-label\",\n            children: \"img:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            defaultValue: \"http://\",\n            ref: imgRef,\n            name: \"img\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this), errors.img && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Enter valid img higer than 0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"qty\",\n            className: \"form-label\",\n            children: \"QTY:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            defaultValue: \"4\",\n            ref: qtyRef,\n            name: \"qty\",\n            type: \"number\",\n            className: \"form-control\",\n            id: \"qty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this), errors.qty && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Enter valid qty higer than 0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"comments\",\n            className: \"form-label\",\n            children: \"Comments:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            defaultValue: \"bla bla 222\",\n            ref: commentsRef,\n            name: \"comments\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), errors.comments && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"Enter valid comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            className: \"form-label\",\n            children: \"\\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D9\\u05D4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            ref: catRef,\n            name: \"category\",\n            id: \"category\",\n            className: \"form-select\",\n            children: cat_ar.map((item, i) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: item,\n                children: item\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this), errors.category && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-danger\",\n            children: \"\\u05D1\\u05D7\\u05E8 \\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D7\\u05D4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"img\",\n            className: \"form-label\",\n            children: \"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05EA\\u05DE\\u05D5\\u05E0\\u05D4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: imgRef,\n            name: \"img\",\n            type: \"text\",\n            className: \"form-control\",\n            id: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"\\u05E2\\u05D3\\u05DB\\u05DF \\u05E6\\u05E2\\u05E6\\u05D5\\u05E2 \\u05D6\\u05D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProd, \"YyYYqMK0+FadpMgOAl8shLYn0lc=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = EditProd;\nexport default EditProd;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProd\");","map":{"version":3,"sources":["D:/studi/ofer/p_4/react/src/marketComps/admin/edit/editProd.js"],"names":["React","useEffect","useState","useForm","doApiGet","doApiMethod","URL_API","Link","useHistory","EditProd","props","history","editid","match","params","editId","qData","setQData","register","handleSubmit","errors","nameRef","required","minLength","infoRef","priceRef","min","imgRef","qtyRef","commentsRef","catRef","cat_ar","setcatAr","doApi","url","data","onFormSub","dataBody","console","log","editprod","n","alert","push","name","info","price","img","qty","comments","map","item","i","category"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { doApiGet, doApiMethod, URL_API } from '../../../services/apiSer';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nfunction EditProd(props) {\r\n  let history = useHistory()\r\n\r\n  let editid = props.match.params.editId;\r\n  let [qData,setQData] = useState({})\r\n  const { register, handleSubmit, errors } = useForm();\r\n  let nameRef = register({ required: true, minLength: 3 });\r\n  let infoRef = register({ required: true, minLength: 3 });\r\n  let priceRef = register({ required: true, min: 1 });\r\n  let imgRef = register({});\r\n  let qtyRef = register({ required: true, min: 1 });\r\n  let commentsRef = register({ minLength: 1 });\r\n  let catRef = register({ required: true });\r\n\r\n\r\n\r\n\r\n\r\n  let [cat_ar, setcatAr] = useState([]);\r\n\r\n  useEffect(() => {\r\n    doApi();\r\n  }, [])\r\n\r\n  const doApi = async () => {\r\n    let url = URL_API + \"/categories\";\r\n    let data = await doApiGet(url);\r\n    setcatAr(data);\r\n  }\r\n\r\n\r\n  const onFormSub = (dataBody) => {\r\n    console.log(dataBody);\r\n    \r\n    editprod(dataBody)\r\n  }\r\n\r\n  const editprod = async(dataBody) => {\r\n \r\n    let url = URL_API+\"/prod/\"+editid\r\n    let data = await doApiMethod(url,\"PUT\",dataBody);\r\n    console.log(data);\r\n    if(data.n == 1){\r\n      alert(\"the prod updated\");\r\n \r\n      history.push(\"/admin/list\");\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"container text-light s_screen2\">\r\n\r\n      <div className=\"container\">\r\n      <form onSubmit={handleSubmit(onFormSub)} className=\"col-lg-6 mx-auto p-2 shadow mt-3\">\r\n        <h1>Add new Product</h1>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"name\" className=\"form-label\">name</label>\r\n          <input defaultValue=\"pizza\" ref={nameRef} name=\"name\" type=\"text\" className=\"form-control\" id=\"name\" />\r\n          {errors.name && <span className=\"text-danger\">Enter vaild name (at least 2 charts)</span>}\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"info\" className=\"form-label\">info</label>\r\n          <input defaultValue=\"bla bla\" ref={infoRef} name=\"info\" type=\"text\" className=\"form-control\" id=\"info\" />\r\n          {errors.info && <span className=\"text-danger\">Enter info (at least 2 charts)</span>}\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"price\" className=\"form-label\">Price:</label>\r\n          <input defaultValue=\"5\" ref={priceRef} name=\"price\" type=\"text\" className=\"form-control\" id=\"price\" />\r\n          {errors.price && <span className=\"text-danger\">Enter valid price higer than 0</span>}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"img\" className=\"form-label\">img:</label>\r\n          <input defaultValue=\"http://\" ref={imgRef} name=\"img\" type=\"text\" className=\"form-control\" id=\"img\" />\r\n          {errors.img && <span className=\"text-danger\">Enter valid img higer than 0</span>}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"qty\" className=\"form-label\">QTY:</label>\r\n          <input defaultValue=\"4\" ref={qtyRef} name=\"qty\" type=\"number\" className=\"form-control\" id=\"qty\" />\r\n          {errors.qty && <span className=\"text-danger\">Enter valid qty higer than 0</span>}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"comments\" className=\"form-label\">Comments:</label>\r\n          <input defaultValue=\"bla bla 222\" ref={commentsRef} name=\"comments\" type=\"text\" className=\"form-control\" id=\"comments\" />\r\n          {errors.comments && <span className=\"text-danger\">Enter valid comments</span>}\r\n        </div>\r\n\r\n\r\n        \r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"category\" className=\"form-label\">קטגוריה</label>\r\n          <select  ref={catRef} name=\"category\" id=\"category\" className=\"form-select\" >\r\n            {cat_ar.map((item,i) => {\r\n              return(\r\n                <option\r\n                key={i} value={item}>\r\n                  {item}\r\n                  </option>\r\n                )\r\n         \r\n            })}\r\n    \r\n          </select>\r\n\r\n          {errors.category && <span className=\"text-danger\">בחר קטגורחה</span>}\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"img\" className=\"form-label\">כתובת תמונה</label>\r\n          <input   ref={imgRef} name=\"img\" type=\"text\" className=\"form-control\" id=\"img\" />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">עדכן צעצוע זה</button>\r\n\r\n\r\n      </form>\r\n  \r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditProd"]},"metadata":{},"sourceType":"module"}